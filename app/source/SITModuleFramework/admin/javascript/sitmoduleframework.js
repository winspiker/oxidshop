var currentPage=0;var currentTab="";var groupsOpenedArray=new Object();var rootURL="";var configFile="";var stoken="";var currentShopId="";var user="";var pw="";function init(){initModuleList()}function initModuleList(){var a=0;$(".moduleListing #moduleConfigurationButton").each(function(){$(this).bind("click",function(){loadModuleStatus($(this));return false});if(a==0){loadModuleStatus($(this))}a++});$(".moduleListing #moduleInstallationButton").each(function(){$(this).bind("click",function(){installModule($(this));return false})});$(".moduleConfiguration #moduleAboButtonManage").each(function(){$(this).bind("click",function(){currentShopId=$(this).data("shopid");loadAboManger($(this).data("modulepath"),true);return false})});$(".moduleConfiguration .sitConfigTabMain").each(function(){$(this).bind("click",function(){currentTab="";specialfunction="";var b=$(this).parent().find("#moduleStatusContent");$(".moduleConfiguration .sitConfigTabMain").each(function(){$(this).removeClass("tabactive")});$(this).addClass("tabactive");if($(this).attr("id")=="moduleStatus"){b.find("#sitConfigTabContentTabData").hide();b.find("#sitConfigTabContentMainData").fadeIn(250)}else{b.find("#sitConfigTabContentMainData").hide();configFile=$(this).data("file");loadEntryList(0,b,"","");loadEntryData(0,b);b.find("#sitConfigTabContentTabData").fadeIn(250)}return false})})}function installModule(c){var b=c.closest("tr").attr("id");var a={};a.module=b;a.cl="sit_module_framework";a.step="download";a.stoken=stoken;a.shp=currentShopId;a.shop_id=currentShopId;$("#"+b+"_installation").show();$("#"+b+"_installation td").text("Lade Installationsdateien... ");$.ajax({type:"POST",async:false,url:rootURL+"admin/index.php",data:a,dataType:"html",success:function(e){var d="Lade Installationsdateien... abgeschlossen";if(e!="ok"){d=e}$("#"+b+"_installation td").text(d)}});a.step="unzip";$("#"+b+"_installation td").text("Entpacke Installationsdateien... ");$.ajax({type:"POST",async:false,url:rootURL+"admin/index.php",data:a,dataType:"html",success:function(e){var d="Entpacke Installationsdateien... abgeschlossen";if(e!="ok"){d=e}$("#"+b+"_installation td").text(d)}});document.location.reload()}function loadAboCancel(b){var a={};a.module=b;a.cl="sit_module_framework";a.step="abocancel";a.stoken=stoken;a.shp=currentShopId;a.shop_id=currentShopId;$.ajax({type:"POST",async:true,url:rootURL+"admin/index.php",data:a,dataType:"json",success:function(c){handleAboDataResponse(b,c)}})}function loadAboInfo(b){var a={};a.module=b;a.cl="sit_module_framework";a.step="aboinfo";a.stoken=stoken;a.shp=currentShopId;a.shop_id=currentShopId;$.ajax({type:"POST",async:true,url:rootURL+"admin/index.php",data:a,dataType:"json",success:function(c){handleAboDataResponse(b,c)}})}function loadAboTest(b){var a={};a.module=b;a.cl="sit_module_framework";a.step="abotest";a.stoken=stoken;a.shp=currentShopId;a.shop_id=currentShopId;$.ajax({type:"POST",async:true,url:rootURL+"admin/index.php",data:a,dataType:"json",success:function(c){handleAboDataResponse(b,c)}})}function handleAboDataResponse(a,b){if(typeof b.message!="undefined"&&b.message!=""){$("#"+a+"_configuration").find("#moduleAboStatus").text(b.message);$("#"+a+"_status_img").attr("title",b.message);$("#"+a+"_status_img").attr("alt",b.message)}if(typeof b.popupmessage!="undefined"&&b.popupmessage!=""){alert(b.popupmessage)}if(typeof b.status!="undefined"&&b.status!=""){$("#"+a+"_status_img").attr("class",b.status);$("#"+a+"_configuration").find("#moduleAbo").attr("class",b.status)}}function loadAboManger(b,c){var a={};a.module=b;a.cl="sit_module_framework";a.step="abomanager";a.stoken=stoken;a.shp=currentShopId;a.shop_id=currentShopId;$("#aboWrapper #aboData").html('<img src="'+rootURL+'SITModuleFramework/lib/img/sit-loader.gif"/>');$("#aboWrapper").css("display","table");$.ajax({type:"POST",async:true,url:rootURL+"admin/index.php",data:a,dataType:"html",success:function(d){handleLoadAboManagerResponse(d,b,c)}})}function handleLoadAboManagerResponse(c,a,b){$("#aboWrapper #aboData").html(c);$("#aboWrapperClose").show();$("#aboWrapper").css("display","table");$("#aboWrapperClose").unbind("click");$("#aboWrapperClose").bind("click",function(){$("#aboWrapper").hide();$("#aboWrapperClose").hide()});$("#moduleAbo #moduleAboButtonStartPayment").bind("click",function(){window.open($("#aboWrapperPaypalUrl").val(),"");window.paypalreturn=function(){loadAboInfo(a);loadAboManger(a,false)}});if(b){$("#moduleAbo #moduleAboButtonCancel").bind("click",function(){loadAboCancel(a);loadAboManger(a,false);return false})}else{$("#moduleAbo #moduleAboButtonCancel").hide()}$("#moduleAbo #moduleAboButtonTest").bind("click",function(){loadAboTest(a);loadAboManger(a,false);return false})}function handleAboDataPaypalResponseRenewal(c,d,b){var a={};a.request="start";a.paypalSubscriptionId=c;a.publicKey=d;$.ajax({type:"POST",async:true,url:b,data:a,dataType:"html",success:function(e){location.reload()}})}function handleAboDataPaypalResponseSubscription(c,b){var a={};a.module=b;a.cl="sit_module_framework";a.step="abostart";a.stoken=stoken;a.paypalSubscriptionId=c;a.shp=currentShopId;a.shop_id=currentShopId;$.ajax({type:"POST",async:true,url:rootURL+"admin/index.php",data:a,dataType:"html",success:function(d){loadAboInfo(b);loadAboManger(b,false)}})}function handleAboDataPaypalResponse(c,b){var a={};a.module=b;a.cl="sit_module_framework";a.step="abostart";a.stoken=stoken;a.paypalPreapprovalKey=$("#aboWrapperPaypalPreapprovalKey").val();a.shp=currentShopId;a.shop_id=currentShopId;$.ajax({type:"POST",async:true,url:rootURL+"admin/index.php",data:a,dataType:"html",success:function(d){loadAboInfo(b);loadAboManger(b,false)}})}function loadModuleStatus(b){var a=b.closest("tr").attr("id");$(".moduleConfiguration").each(function(){if($(this).attr("id")==a+"_configuration"){return}var d=$(this).attr("id");var c=d.substr(0,d.lastIndexOf("_"));$("#"+c+" #moduleConfigurationButton").parent().removeClass("opened");$(this).hide()});currentTab="";fileUpload="";$("#"+a+"_configuration").toggle();if($("#"+a+"_configuration").is(":visible")){b.parent().addClass("opened")}else{b.parent().removeClass("opened")}$("#"+a+"_configuration #moduleStatusContent").fadeIn(250);$("#"+a+"_configuration #moduleStatus").click()}var last_sort_order="";var last_sort_field="";function loadEntryList(e,d,b,f){if(b==""){b=last_sort_order}else{last_sort_order=b}if(f==""){f=last_sort_field}else{last_sort_field=f}currentPage=e;var c=new Object();d.find("#sitConfigListMain input[id^=filter]").each(function(){var h=$(this).attr("name");var g=$(this).val();c[h]=g});var a={};a.config=configFile;a.request="loadEntryList";a.current_page=e;a.current_filter=c;a.user=user;a.pw=pw;a.shp=currentShopId;a.shop_id=currentShopId;a.sort_order=b;a.sort_field=f;$.ajax({type:"POST",async:false,url:rootURL+"SITModuleFramework/admin/SITAdminConfigurator.php",data:a,dataType:"json",success:function(g){d.find("#sitConfigTabContentTabData #sitConfigListMain").html(g.htmlList);d.find("#sitConfigTabContentTabData #sitConfigListNavigation").html(g.htmlNavigation);d.find('#sitConfigTabContentTabData #sitConfigListMain div[id^="sitConfigListItemDelete"]').each(function(){$(this).bind("click",function(){var j=$(this).parent().find("#sitConfigListItemId").text();var i=window.confirm('Den Eintrag mit ID "'+j+'" wirklich entfernen:?');if(!i){return false}var h={};h.config=configFile;h.request="deleteEntryData";h.id=j;h.user=user;h.pw=pw;h.shp=currentShopId;h.shop_id=currentShopId;$.ajax({type:"POST",async:false,url:rootURL+"SITModuleFramework/admin/SITAdminConfigurator.php",data:h,dataType:"html",success:function(k){loadEntryList(currentPage,d,b,f)}});return false})});d.find("#sitConfigTabContentTabData #sitConfigListNavigation a[id^=nav]").each(function(){$(this).bind("click",function(){loadEntryList($(this).attr("href"),d,b,f);return false})});d.find("#sitConfigTabContentTabData #sitConfigHeader #sitConfigListItemVarchar").each(function(){$(this).bind("click",function(){loadEntryList(currentPage,d,$(this).data("newsortorder"),$(this).data("sortfield"));return false})});d.find("#sitConfigTabContentTabData #sitConfigListMain input[id^=filter]").each(function(){$(this).keypress(function(h){if(h.keyCode==13){loadEntryList(0,d,b,f)}})});d.find("#sitConfigTabContentTabData #sitConfigListMain div[id=sitConfigList1]").each(function(){bindListActions($(this),d)});d.find("#sitConfigTabContentTabData #sitConfigListMain div[id=sitConfigList2]").each(function(){bindListActions($(this),d)})}})}function loadEntryData(c,b){var a={};a.config=configFile;a.request="loadEntryData";a.id=c;a.user=user;a.pw=pw;a.shp=currentShopId;a.shop_id=currentShopId;b.find("#sitConfigEntryData").html("");b.find("#sitMessage").text("");$.ajax({type:"POST",async:false,url:rootURL+"SITModuleFramework/admin/SITAdminConfigurator.php",data:a,dataType:"html",success:function(d){b.find("#sitConfigEntryData").append(d);b.find("#sitConfigEntryData #savebutton").bind("click",function(){saveEntryData(b,$(this));return false});b.find("#sitConfigTabContentTabData button").bind("click",function(){handleButtonClick($(this).attr("name"),0,b);return false});b.find("#sitConfigEntryData select").each(function(){if($(this).prop("multiple")===false){$(this).select2()}});b.find("#sitConfigEntryData .sitConfigTabMain").bind("click",function(){specialfunction="";loadEntryDataMain(b);return false});b.find("#sitConfigEntryData .sitConfigTab").each(function(){$(this).bind("click",function(){specialfunctionTab="";loadEntryListTab($(this).attr("id"),0,b,"","");loadEntryDataTab($(this).attr("id"),0,b);return false})});var e=b.find('#sitConfigEntryData #sitConfigForm input[name="id"]').val();if(currentTab!=""&&e!="0"){loadEntryListTab(currentTab,0,b,"","");loadEntryDataTab(currentTab,0,b)}else{loadEntryDataMain(b)}}})}function checkGroupedMenus(b){var a=0;b.find(".sitConfigFieldGroupTitle dt").each(function(){$(this).unbind("click");$(this).bind("click",function(){var d=$(this).closest(".sitConfigFieldGroupTitle").attr("id");b.find(".sitConfigFieldGroupTitle dt").each(function(){var e=$(this).closest(".sitConfigFieldGroupTitle").attr("id");if(d==e){if($(this).closest("dl").find("dd").is(":visible")){$(this).addClass("closed");delete groupsOpenedArray[d]}else{$(this).removeClass("closed");groupsOpenedArray[d]=d}$(this).closest("dl").find("dd").toggle()}else{$(this).addClass("closed");delete groupsOpenedArray[e];$(this).closest("dl").find("dd").hide()}})});var c=$(this).closest(".sitConfigFieldGroupTitle").attr("id");if((Object.keys(groupsOpenedArray).length==0&&a==0)||(Object.keys(groupsOpenedArray).length>0&&c in groupsOpenedArray)){$(this).closest("dl").find("dd").show();$(this).removeClass("closed");groupsOpenedArray[c]=c}else{$(this).closest("dl").find("dd").hide();$(this).addClass("closed")}a++})}var last_sort_order_tab="";var last_sort_field_tab="";var currentPageTab=0;function loadEntryListTab(e,d,c,b,f){if(b==""){b=last_sort_order_tab}else{last_sort_order_tab=b}if(f==""){f=last_sort_field_tab}else{last_sort_field_tab=f}currentPageTab=d;var g=c.find('#sitConfigEntryData #sitConfigForm input[name="id"]').val();var a={};a.config=configFile;a.request="loadEntryListTab";a.current_page=d;a.tab_name=e;a.parent_id=g;a.user=user;a.pw=pw;a.shp=currentShopId;a.shop_id=currentShopId;a.sort_order=b;a.sort_field=f;$.ajax({type:"POST",async:false,url:rootURL+"SITModuleFramework/admin/SITAdminConfigurator.php",data:a,dataType:"json",success:function(h){c.find("#"+e+"_CONTENT #sitConfigTabContentList").html(h.htmlList);c.find("#"+e+"_CONTENT #sitConfigTabContentListNavigation").html(h.htmlNavigation);c.find("#"+e+'_CONTENT #sitConfigTabContentList div[id^="sitConfigListItemDelete"]').each(function(){$(this).bind("click",function(){var j=$(this).next("div").text();var j=$(this).parent().find("#sitConfigListItemId").text();var k=window.confirm('Den Eintrag mit ID "'+j+'" wirklich entfernen?');if(!k){return false}var i={};i.config=configFile;i.request="deleteEntryDataTab";i.tab_name=e;i.parent_id=g;i.id=j;i.user=user;i.pw=pw;i.shp=currentShopId;i.shop_id=currentShopId;$.ajax({type:"POST",async:false,url:rootURL+"SITModuleFramework/admin/SITAdminConfigurator.php",data:i,dataType:"html",success:function(l){loadEntryListTab(e,currentPageTab,c,b,f)}});return false})});c.find("#"+e+"_CONTENT #sitConfigTabContentListNavigation a[id^=nav]").each(function(){$(this).bind("click",function(){loadEntryListTab(e,$(this).attr("href"),c,b,f);return false})});c.find("#"+e+"_CONTENT #sitConfigHeader #sitConfigListItemVarchar").each(function(){$(this).bind("click",function(){loadEntryListTab(e,currentPageTab,c,$(this).data("newsortorder"),$(this).data("sortfield"));return false})});c.find("#"+e+"_CONTENT #sitConfigTabContentList div[id=sitConfigList1]").each(function(){bindListActionsTab(e,$(this),c)});c.find("#"+e+"_CONTENT #sitConfigTabContentList div[id=sitConfigList2]").each(function(){bindListActionsTab(e,$(this),c)})}})}function loadEntryDataMain(a){currentTab="";fileUpload="";a.find("#sitConfigEntryData .sitConfigTab").each(function(){$(this).removeClass("tabactive")});a.find("#sitConfigEntryData .sitConfigTabContent").each(function(){$(this).hide()});a.find("#sitConfigTabsMain .sitConfigTabMain").addClass("tabactive");a.find("#sitConfigTabsMain .sitConfigTabContentMain").fadeIn(250);initFileUpload(a);checkGroupedMenus(a.find("#sitConfigTabsMain").find(".sitConfigTabContentMain"))}function loadEntryDataTab(d,c,b){var e=b.find('#sitConfigEntryData #sitConfigForm input[name="id"]').val();if(e=="0"){alert("Selektieren Sie erst einen Eintrag in der Liste");return}b.find("#sitMessage").text("");currentTab=d;b.find("#sitConfigTabsMain .sitConfigTabMain").removeClass("tabactive");b.find("#sitConfigTabsMain .sitConfigTabContentMain").hide();b.find("#sitConfigEntryData .sitConfigTab").each(function(){if($(this).attr("id")!=d){$(this).removeClass("tabactive")}else{$(this).addClass("tabactive")}});b.find("#sitConfigEntryData .sitConfigTabContent").each(function(){if($(this).attr("id")!=(d+"_CONTENT")){$(this).hide()}});var a={};a.config=configFile;a.request="loadEntryDataTab";a.tab_name=d;a.parent_id=e;a.id=c;a.user=user;a.pw=pw;a.shp=currentShopId;a.shop_id=currentShopId;b.find("#"+d+"_CONTENT #sitConfigTabContentData").html("");$.ajax({type:"POST",async:false,url:rootURL+"SITModuleFramework/admin/SITAdminConfigurator.php",data:a,dataType:"html",success:function(f){b.find("#"+d+"_CONTENT #sitConfigTabContentData").append(f);b.find("#"+d+"_CONTENT #savebutton").bind("click",function(){saveEntryDataTab(d,b,$(this));return false});b.find("#"+d+"_CONTENT button").bind("click",function(){handleButtonClickTab(d,$(this).attr("name"),0,b);return false});b.find("#sitConfigEntryData select").each(function(){if($(this).prop("multiple")===false){$(this).select2()}})}});b.find("#"+d+"_CONTENT").fadeIn(250);checkGroupedMenus(b.find("#"+d+"_CONTENT"))}function handleButtonClick(b,e,c){if(e==0){c.find("#sitMessage").text("Warte auf Verarbeitung ...")}var d={};$.each(c.find("#sitConfigTabContentDataMain #sitConfigForm").serializeArray(),function(g,h){var j=h.name;j=j.replace("_cfgfile","");d[j]=h.value});c.find("#sitConfigTabContentDataMain #sitConfigForm input[type=checkbox]:not(:checked)").each(function(){var g=$(this).attr("name");d[g]=0});var f=c.find('#sitConfigTabContentDataMain #sitConfigForm input[name="id"]').val();var a={};a.config=configFile;a.request="handleButtonClickTab";a.editvalues=d;a.tab_name="main";a.parent_id=f;a.button_name=b;a.init=e;a.user=user;a.pw=pw;a.shp=currentShopId;a.shop_id=currentShopId;$.ajax({type:"POST",async:true,url:rootURL+"SITModuleFramework/admin/SITAdminConfigurator.php",data:a,dataType:"json",success:function(g){c.find("#sitMessage").text(g.message);if(g.link){c.find("#sitMessage").append(g.link)}if(g.processing==true){handleButtonClick(b,g.init,c)}else{if(g.reload==true){loadEntryDataMain()}else{if(g.processingTimer){handleButtonClickTimer(g.processingTimer,g.message,b,0,c)}}}}})}function handleButtonClickTimer(e,c,a,d,b){b.find("#sitMessage").text(c+" - Weitere Verarbeitung in "+e+" Sekunden");if(e>0){e--;setTimeout(function(){handleButtonClickTimer(e,c,a,d,b)},1000)}else{handleButtonClick(a,0,b)}}function handleButtonClickTab(e,b,f,c){if(f==0){c.find("#sitMessage").text("Warte auf Verarbeitung ...")}var d={};$.each(c.find("#"+e+"_CONTENT #sitConfigForm").serializeArray(),function(h,k){var l=k.name;l=l.replace("_cfgfile","");if(l in d){var j=d[l];if(!Array.isArray(j)){j=new Array(d[l])}j.push(k.value);d[l]=j}else{d[l]=k.value}});c.find("#"+e+"_CONTENT #sitConfigForm input[type=checkbox]:not(:checked)").each(function(){var h=$(this).attr("name");d[h]=0});var g=c.find('#sitConfigEntryData #sitConfigForm input[name="id"]').val();var a={};a.config=configFile;a.request="handleButtonClickTab";a.editvalues=d;a.tab_name=e;a.parent_id=g;a.button_name=b;a.init=f;a.user=user;a.pw=pw;a.shp=currentShopId;a.shop_id=currentShopId;$.ajax({type:"POST",async:true,url:rootURL+"SITModuleFramework/admin/SITAdminConfigurator.php",data:a,dataType:"json",success:function(h){c.find("#sitMessage").text(h.message);if(h.link){c.find("#sitMessage").append(h.link)}if(h.processing==true){handleButtonClickTab(e,b,h.init,c)}else{if(h.reload==true){loadEntryDataTab(e,0,c);$("html, body").animate({scrollTop:c.find('button[name="'+b+'"]').offset().top-330},1000)}else{if(h.processingTimer){handleButtonClickTabTimer(h.processingTimer,h.message,e,b,0,c)}}}}})}function handleButtonClickTabTimer(f,c,d,a,e,b){b.find("#sitMessage").text(c+" - Weitere Verarbeitung in "+f+" Sekunden");if(f>0){f--;setTimeout(function(){handleButtonClickTabTimer(f,c,d,a,e,b)},1000)}else{handleButtonClickTab(d,a,0,b)}}function saveEntryData(b,a){if(!isFileUpload(b)){saveEntryDataSend(b,a)}}function saveEntryDataSend(c,b){c.find("#sitMessage").text("Speichern...");var d={};$.each(b.closest("form").serializeArray(),function(e,f){var g=f.name;g=g.replace("_cfgfile","");d[g]=f.value});b.closest("form").find("input[type=checkbox]:not(:checked)").each(function(){var e=$(this).attr("name");d[e]=0});var a={};a.config=configFile;a.request="saveEntryData";a.editvalues=d;a.user=user;a.pw=pw;a.shp=currentShopId;a.shop_id=currentShopId;$.ajax({type:"POST",async:false,url:rootURL+"SITModuleFramework/admin/SITAdminConfigurator.php",data:a,dataType:"json",success:function(e){if(e.success==true){c.find("#sitMessage").text("Erfolgreich gespeichert!");b.fadeOut(500,function(){b.val("Erfolgreich gespeichert!");b.css("color","#006600");b.fadeIn(500).delay(1000).fadeOut(500,function(){b.val("Speichern");b.css("color","#333333");b.fadeIn(500)})});loadEntryList(currentPage,c,"","")}else{c.find("#sitMessage").text("Speicherfehler!");c.find("#sitMessage").fadeIn(1000);b.fadeOut(500,function(){b.val("Speicherfehler!");b.css("color","#660000");b.fadeIn(500).delay(1000).fadeOut(500,function(){b.val("Speichern");b.css("color","#333333");b.fadeIn(500)})})}}})}var fileUpload="";function initFileUpload(b){fileUpload="";var c=rootURL+"SITModuleFramework/admin/SITAdminConfigurator.php";b.find("#fileuploadButton").unbind("click");b.find("#fileuploadButton").bind("click",function(){b.find("#fileupload").trigger("click");return false});var a={};a.config=configFile;a.request="uploadFile";a.file_name=b.find("#fileuploadButton").attr("name");a.user=user;a.pw=pw;b.find("#fileupload").fileupload({dataType:"json",maxChunkSize:100000,url:c,autoUpload:false,formData:a,add:function(f,d){fileUpload=d;b.find("#fileuploadText").val(d.files[0].name);b.find("#progress .bar").css("width","0%");b.find("#progress .bar").text("")},done:function(f,d){fileUpload="";b.find("#fileuploadText").val(d.result.files[0].name);b.find("#sitMessage").text("Datei Upload erfolgreich!");saveEntryDataSend(b,b.find("#fileuploadButton"));b.find("#progress").hide()},progressall:function(g,f){var d=parseInt(f.loaded/f.total*100,10);b.find("#progress").show();b.find("#progress .bar").css("width",d+"%");b.find("#progress .bar").text(d+"%")}})}function isFileUpload(a){if(fileUpload==""){return false}a.find("#sitMessage").text("Datei Upload...");fileUpload.submit();return true}function saveEntryDataTab(e,c,b){c.find("#sitMessage").text("Tab Speichern...");var d={};$.each(c.find("#"+e+"_CONTENT #sitConfigForm").serializeArray(),function(g,h){var j=h.name;j=j.replace("_cfgfile","");d[j]=h.value});c.find("#"+e+"_CONTENT #sitConfigForm input[type=checkbox]:not(:checked)").each(function(){var g=$(this).attr("name");d[g]=0});var f=c.find('#sitConfigEntryData #sitConfigForm input[name="id"]').val();var a={};a.config=configFile;a.request="saveEntryDataTab";a.editvalues=d;a.tab_name=e;a.parent_id=f;a.user=user;a.pw=pw;a.shp=currentShopId;a.shop_id=currentShopId;$.ajax({type:"POST",async:false,url:rootURL+"SITModuleFramework/admin/SITAdminConfigurator.php",data:a,dataType:"json",success:function(g){if(g.success==true){c.find("#sitMessage").text("Tab Erfolgreich gespeichert!");c.find("#sitMessage").fadeIn(1000);b.fadeOut(500,function(){b.val("Erfolgreich gespeichert!");b.css("color","#006600");b.fadeIn(500).delay(1000).fadeOut(500,function(){b.val("Speichern");b.css("color","#333333");b.fadeIn(500)})});loadEntryListTab(e,currentPageTab,c,"","")}else{c.find("#sitMessage").text("Speicherfehler!");c.find("#sitMessage").fadeIn(1000);b.fadeOut(500,function(){b.val("Speicherfehler!");b.css("color","#660000");b.fadeIn(500).delay(1000).fadeOut(500,function(){b.val("Speichern");b.css("color","#333333");b.fadeIn(500)})})}}})}function bindListActions(b,a){b.unbind("mouseenter");b.bind("mouseenter",function(){$(this).addClass("listhover")});b.unbind("mouseleave");b.bind("mouseleave",function(){$(this).removeClass("listhover")});b.unbind("click");b.bind("click",function(){a.find("#sitConfigListMain").find("div[id^=sitConfigList]").each(function(){$(this).removeClass("listactive")});$(this).addClass("listactive");var c=b.find("#sitConfigListItemId").text();if(specialfunction!=""){window[specialfunction](c)}else{loadEntryData(c,a)}return false})}function bindListActionsTab(c,b,a){b.bind("mouseenter",function(){$(this).addClass("listhover")});b.bind("mouseleave",function(){$(this).removeClass("listhover")});b.bind("click",function(){a.find("#"+c+"_CONTENT").find("div[id^=sitConfigList]").each(function(){$(this).removeClass("listactive")});$(this).addClass("listactive");var d=b.find("#sitConfigListItemId").text();if(specialfunctionTab!=""){window[specialfunctionTab](d)}else{loadEntryDataTab(c,d,a)}return false})};